{"version":3,"sources":["turbopack:///[project]/src/components/Console.module.css [app-ssr] (css module)","../../../../src/components/Console.tsx","turbopack:///[project]/src/app/scenario/[id]/Scenario.module.css [app-ssr] (css module)","../../../../src/app/scenario/%5Bid%5D/page.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"blink\": \"Console-module__pqP0ea__blink\",\n  \"content\": \"Console-module__pqP0ea__content\",\n  \"cursor\": \"Console-module__pqP0ea__cursor\",\n  \"dot\": \"Console-module__pqP0ea__dot\",\n  \"header\": \"Console-module__pqP0ea__header\",\n  \"line\": \"Console-module__pqP0ea__line\",\n  \"prompt\": \"Console-module__pqP0ea__prompt\",\n  \"terminal\": \"Console-module__pqP0ea__terminal\",\n  \"title\": \"Console-module__pqP0ea__title\",\n});\n","'use client';\n\nimport { useEffect, useRef } from 'react';\nimport styles from './Console.module.css';\n\ninterface ConsoleProps {\n    logs: string[];\n    isRunning: boolean;\n}\n\nexport default function Console({ logs, isRunning }: ConsoleProps) {\n    const bottomRef = useRef<HTMLDivElement>(null);\n\n    useEffect(() => {\n        bottomRef.current?.scrollIntoView({ behavior: 'smooth' });\n    }, [logs]);\n\n    return (\n        <div className={styles.terminal}>\n            <div className={styles.header}>\n                <span className={styles.dot} style={{ background: '#ff5f56' }}></span>\n                <span className={styles.dot} style={{ background: '#ffbd2e' }}></span>\n                <span className={styles.dot} style={{ background: '#27c93f' }}></span>\n                <span className={styles.title}>root@kali:~/scenarios</span>\n            </div>\n            <div className={styles.content}>\n                {logs.map((log, i) => (\n                    <div key={i} className={styles.line}>\n                        <span className={styles.prompt}>$ </span>\n                        {log}\n                    </div>\n                ))}\n                {isRunning && (\n                    <div className={styles.line}>\n                        <span className={`${styles.cursor} mono`}>_</span>\n                    </div>\n                )}\n                <div ref={bottomRef} />\n            </div>\n        </div>\n    );\n}\n","__turbopack_context__.v({\n  \"backLink\": \"Scenario-module__OWz1pW__backLink\",\n  \"container\": \"Scenario-module__OWz1pW__container\",\n  \"controls\": \"Scenario-module__OWz1pW__controls\",\n  \"header\": \"Scenario-module__OWz1pW__header\",\n  \"meta\": \"Scenario-module__OWz1pW__meta\",\n  \"mitreSection\": \"Scenario-module__OWz1pW__mitreSection\",\n  \"title\": \"Scenario-module__OWz1pW__title\",\n});\n","'use client';\n\nimport { useState, use } from 'react';\nimport Link from 'next/link';\nimport { notFound } from 'next/navigation';\nimport { SCENARIOS } from '@/lib/types';\nimport Console from '@/components/Console';\nimport styles from './Scenario.module.css';\n\nexport default function ScenarioPage({ params }: { params: Promise<{ id: string }> }) {\n    const { id } = use(params);\n    const scenario = SCENARIOS.find((s) => s.id === id);\n\n    const [isRunning, setIsRunning] = useState(false);\n    const [logs, setLogs] = useState<string[]>([]);\n\n    if (!scenario) {\n        notFound();\n    }\n\n    const handleExecute = async () => {\n        setIsRunning(true);\n        const c2Host = localStorage.getItem('c2_host');\n        const targetIp = localStorage.getItem('target_ip');\n\n        if (!c2Host) {\n            setLogs(prev => [...prev, '[!] WARNING: No C2 Server set. Please configure in header.']);\n        }\n\n        setLogs((prev) => [...prev, `[INFO] Initializing ${scenario.name}...`, `[INFO] Target: ${targetIp || 'Not set'}`, `[INFO] Adversary Infrastructure: ${c2Host || 'Unknown'}`]);\n\n        try {\n            const response = await fetch('/api/execute', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify({\n                    scriptPath: scenario.scriptPath,\n                    c2Host: c2Host,\n                    targetIp: targetIp\n                }),\n            });\n\n            const data = await response.json();\n\n            if (data.success) {\n                const logsToAdd: string[] = [];\n                if (data.scriptContent) {\n                    logsToAdd.push('[*] SCRIPT CONTENT EXECUTION PLAN:', '----------------------------------------');\n                    logsToAdd.push(...data.scriptContent.split('\\n'));\n                    logsToAdd.push('----------------------------------------');\n                }\n                const lines = data.output.split('\\n').filter((l: string) => l);\n                logsToAdd.push(...lines, '[+] Execution Completed Successfully.');\n\n                setLogs(prev => [...prev, ...logsToAdd]);\n            } else {\n                setLogs(prev => [...prev, `[ERROR] ${data.error}`]);\n            }\n\n        } catch (error) {\n            setLogs(prev => [...prev, `[ERROR] Execution failed: ${error}`]);\n        } finally {\n            setIsRunning(false);\n        }\n    };\n\n    return (\n        <main className={styles.container} style={{ animation: 'fadeIn 0.3s ease' }}>\n            <Link href=\"/\" className={styles.backLink}>‚Üê Back to Dashboard</Link>\n\n            <header className={styles.header}>\n                <div className={styles.meta}>\n                    <span className=\"badge\" style={{ color: 'var(--secondary)', borderColor: 'var(--secondary)' }}>[{scenario.adversary}]</span>\n                    <span className=\"mono text-dim\">{scenario.difficulty}</span>\n                    <span className=\"mono text-dim\">{scenario.estimatedDuration}</span>\n                </div>\n                <h1 className=\"mono text-primary glow-text\" style={{ fontSize: '2rem', marginBottom: '0.5rem' }}>{scenario.name}</h1>\n                <p className=\"text-dim\">{scenario.description}</p>\n            </header>\n\n            <section className=\"section-card\" style={{ marginBottom: '2rem' }}>\n                <h3>MITRE ATT&CK MAPPING</h3>\n                <div style={{ display: 'grid', gap: '0.5rem' }}>\n                    {scenario.mitreTechniques.map(t => (\n                        <div key={t.id} className=\"accent-item\">\n                            <a href={t.url} target=\"_blank\" rel=\"noopener noreferrer\"\n                                className=\"mono\" style={{ color: 'var(--text-main)', textDecoration: 'none' }}>\n                                <span className=\"text-primary\" style={{ marginRight: '0.5rem' }}>{t.id}</span>\n                                {t.name}\n                            </a>\n                        </div>\n                    ))}\n                </div>\n            </section>\n\n            <div className={styles.controls}>\n                <button\n                    className=\"btn\"\n                    onClick={handleExecute}\n                    disabled={isRunning}\n                    style={{ opacity: isRunning ? 0.5 : 1 }}\n                >\n                    {isRunning ? 'EXECUTING...' : 'EXECUTE SCENARIO'}\n                </button>\n            </div>\n\n            <Console logs={logs} isRunning={isRunning} />\n        </main>\n    );\n}\n"],"names":[],"mappings":"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"}